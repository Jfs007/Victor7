!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.vicApp=t():e.vicApp=t()}(self,(()=>(()=>{"use strict";var e={d:(t,i)=>{for(var a in i)e.o(i,a)&&!e.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:i[a]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{query:()=>r,use:()=>l,vic:()=>s});const i=function(e,t){let i={};return t.map((t=>{i[t]=e[t]})),i},a=function(e){let t=e.match(/.*(\?.*)/);t&&(e=t[1]);let i={};return e.replace(/(\w+)=?([^=&]+)?&?/g,(function(e,t,a){i[t]=a?escape(a.trim()):""})),i};class n{app=null;pointer=null;alias="$n";delta=-1;define={};query={};constructor(e){e.navigate=this,e[this.alias]=this}setup(e){let t=this;return this.app=e,this.define=i(this.app,["switchTab","reLaunch","redirectTo","navigateTo","navigateBack"]),Object.keys(this.define).map((e=>{Object.defineProperty(this.app,e,{get:function(){return t[e].bind(t)}})})),this}setQuery(e){let{url:t}=e;this.query=a(t)}switchTab(e={}){this.setQuery(e),this.define.switchTab.call(this.app,e)}reLaunch(e={}){this.setQuery(e),this.define.reLaunch.call(this.app,e)}redirectTo(e={}){this.setQuery(e),this.define.redirectTo.call(this.app,e)}navigateTo(e={}){this.setQuery(e),this.define.navigateTo.call(this.app,e)}navigateBack(e={}){let{delta:t}=e;"base"==t&&this.pointer?(e.delta=this.getDelta(),this.base()):e.delta=t||1,this.setQuery(e),this.define.navigateBack.call(this.app,e)}navigateBaseTo(e){let t=getCurrentPages();this.pointer=t[t.length-1],this.delta=t.length,this.navigateTo(e)}base(){this.pointer=null,this.delta=-1}getDelta(){let e=this.pointer,t=this.delta;return e?getCurrentPages().length-t:-1}}let s=new class{name="vic";navigate=null;env=null;constructor(){}setup(e){this.app=e,this.app[this.name]=this,new n(this).setup(this.app)}use(e,t){this[e]=t}};function r(){return s.navigate.query}function l(e,t){s.use(e,t)}return t})()));